// 'use client'
// import Image from 'next/image'
// import Link from 'next/link'
// import { useState } from 'react'
// import styles from './styles.module.scss'

// export default function Header() {
// 	const [isMenuOpen, setIsMenuOpen] = useState(false)

// 	const toggleMenu = () => {
// 		setIsMenuOpen(!isMenuOpen)
// 	}

// 	const closeMenu = () => {
// 		setIsMenuOpen(false)
// 	}

// 	return (
// 		<>
// 			<div className={styles.header}>
// 				<div className={styles.logo_container}>
// 					<Link href='/' onClick={closeMenu}>
// 						<Image
// 							src='/logo/logo.svg'
// 							alt='astrinit logo'
// 							width={200}
// 							height={50}
// 						/>
// 					</Link>
// 				</div>

// 				<div className={styles.nav_container}>
// 					<Link href='/' className={styles.nav_link} onClick={closeMenu}>
// 						ИТ-ПОДДЕРЖКА
// 					</Link>
// 					<Link href='/tariffs' className={styles.nav_link} onClick={closeMenu}>
// 						ТАРИФЫ
// 					</Link>
// 					<Link
// 						href='/services'
// 						className={styles.nav_link}
// 						onClick={closeMenu}
// 					>
// 						РЕШЕНИЯ
// 					</Link>
// 					<Link
// 						href='/contacts'
// 						className={styles.nav_link}
// 						onClick={closeMenu}
// 					>
// 						КОНТАКТЫ
// 					</Link>
// 				</div>

// 				<div className={styles.socials_container}>
// 					<Link href='tel:+78123363646' className={styles.phone_link}>
// 						(812) 336 36 46
// 					</Link>
// 					<div className={styles.socials_links}>
// 						<Link href='#'>
// 							<Image
// 								src='/svg/socials/tg.svg'
// 								alt='tg'
// 								width={35}
// 								height={35}
// 							/>
// 						</Link>
// 						<Link href='#'>
// 							<Image
// 								src='/svg/socials/wa.svg'
// 								alt='wa'
// 								width={35}
// 								height={35}
// 							/>
// 						</Link>
// 					</div>
// 				</div>

// 				{/* Бургер-кнопка */}
// 				<button
// 					className={`${styles.burger_button} ${
// 						isMenuOpen ? styles.active : ''
// 					}`}
// 					onClick={toggleMenu}
// 					aria-label='Открыть меню'
// 				>
// 					<span></span>
// 					<span></span>
// 					<span></span>
// 				</button>
// 			</div>

// 			{/* Мобильное меню */}
// 			<div
// 				className={`${styles.mobile_menu} ${isMenuOpen ? styles.active : ''}`}
// 			>
// 				<div className={styles.mobile_menu_content}>
// 					<Link href='/' className={styles.mobile_nav_link} onClick={closeMenu}>
// 						ИТ-ПОДДЕРЖКА
// 					</Link>
// 					<Link
// 						href='/tariffs'
// 						className={styles.mobile_nav_link}
// 						onClick={closeMenu}
// 					>
// 						ТАРИФЫ
// 					</Link>
// 					<Link
// 						href='/services'
// 						className={styles.mobile_nav_link}
// 						onClick={closeMenu}
// 					>
// 						РЕШЕНИЯ
// 					</Link>
// 					<Link
// 						href='/contacts'
// 						className={styles.mobile_nav_link}
// 						onClick={closeMenu}
// 					>
// 						КОНТАКТЫ
// 					</Link>

// 					<div className={styles.mobile_contacts}>
// 						<Link
// 							href='tel:+78123363646'
// 							className={styles.mobile_phone_link}
// 							onClick={closeMenu}
// 						>
// 							(812) 336 36 46
// 						</Link>
// 						<div className={styles.mobile_socials}>
// 							<Link href='#' onClick={closeMenu}>
// 								<Image
// 									src='/svg/socials/tg.svg'
// 									alt='tg'
// 									width={40}
// 									height={40}
// 								/>
// 							</Link>
// 							<Link href='#' onClick={closeMenu}>
// 								<Image
// 									src='/svg/socials/wa.svg'
// 									alt='wa'
// 									width={40}
// 									height={40}
// 								/>
// 							</Link>
// 						</div>
// 					</div>
// 				</div>
// 			</div>

// 			{/* Оверлей для закрытия меню */}
// 			{isMenuOpen && (
// 				<div className={styles.menu_overlay} onClick={closeMenu}></div>
// 			)}
// 		</>
// 	)
// }

'use client'
import Image from 'next/image'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { useState } from 'react'
import { RxCross2 } from 'react-icons/rx'
import styles from './styles.module.scss'

export default function Header() {
	const [isMenuOpen, setIsMenuOpen] = useState(false)
	const pathname = usePathname()

	const toggleMenu = () => {
		setIsMenuOpen(!isMenuOpen)
	}

	const closeMenu = () => {
		setIsMenuOpen(false)
	}

	return (
		<>
			<div className={styles.header__container}>
				<div className={styles.header}>
					<div className={styles.logo_container}>
						<Link href='/' onClick={closeMenu}>
							<Image
								src='/logo/logo.svg'
								alt='astrinit logo'
								width={200}
								height={50}
							/>
						</Link>
					</div>

					<div className={styles.nav_container}>
						<Link
							href='/'
							className={`${styles.nav_link} ${
								pathname === '/' ? styles.active : ''
							}`}
							onClick={closeMenu}
						>
							ИТ-ПОДДЕРЖКА
						</Link>
						<Link
							href='/tariffs'
							className={`${styles.nav_link} ${
								pathname === '/tariffs' ? styles.active : ''
							}`}
							onClick={closeMenu}
						>
							ТАРИФЫ
						</Link>
						<Link
							href='/services'
							className={`${styles.nav_link} ${
								pathname === '/services' || pathname.startsWith('/services/')
									? styles.active
									: ''
							}`}
							onClick={closeMenu}
						>
							РЕШЕНИЯ
						</Link>
						<Link
							href='/contacts'
							className={`${styles.nav_link} ${
								pathname === '/contacts' ? styles.active : ''
							}`}
							onClick={closeMenu}
						>
							КОНТАКТЫ
						</Link>
					</div>

					<Link href='tel:+78123363646' className={styles.phone_link_mobile}>
						(812) 336 36 46
					</Link>

					<div className={styles.socials_container}>
						<Link href='tel:+78123363646' className={styles.phone_link}>
							(812) 336 36 46
						</Link>
						<div className={styles.socials_links}>
							<Link
								href='https://t.me/andromster'
								target='_blank'
								rel='noopener noreferrer'
							>
								{/* <Image
									src='/svg/socials/tg.svg'
									alt='tg'
									width={35}
									height={35}
								/> */}
								<div className={styles.telegram_item}>
									<svg viewBox='0 0 512 512' xmlSpace='preserve' fill='#fff'>
										<path d='M385.268,121.919l-210.569,129.69c-11.916,7.356-17.555,21.885-13.716,35.323l22.768,80 c1.945,6.821,8.015,11.355,14.999,11.355c0.389,0,0.782-0.014,1.176-0.043c7.466-0.542,13.374-6.103,14.367-13.515l5.92-43.866 c0.798-5.902,3.642-11.392,8.001-15.45l173.765-161.524c5.251-4.869,5.945-12.842,1.618-18.545 C399.263,119.636,391.388,118.16,385.268,121.919z M214.32,290.478c-7.808,7.268-12.895,17.089-14.323,27.655l-2.871,21.278 l-16.527-58.072c-1.343-4.704,0.635-9.791,4.805-12.365l154.258-95.007L214.32,290.478z' />
										<path d='M503.67,37.382c-6.579-5.576-15.657-7.111-23.698-4.005L15.08,212.719C5.873,216.27-0.047,224.939,0,234.804 c0.048,9.874,6.055,18.495,15.316,21.965l108.59,40.529l42.359,136.225c2.326,7.489,8.197,13.308,15.703,15.566 c7.502,2.256,15.604,0.643,21.66-4.310l63.14-51.473c3.032-2.472,7.362-2.594,10.528-0.295l113.883,82.681 c4.097,2.978,8.932,4.511,13.823,4.511c2.865,0,5.749-0.526,8.517-1.596c7.486-2.895,12.93-9.312,14.56-17.163l83.429-401.309 C513.26,51.685,510.257,42.967,503.67,37.382z M491.536,55.99l-83.428,401.308c-0.302,1.45-1.346,2.053-1.942,2.284 c-0.6,0.232-1.785,0.489-2.997-0.393l-113.887-82.685c-5.091-3.696-11.077-5.531-17.052-5.531 c-6.518,0-13.027,2.185-18.347,6.519l-63.154,51.485c-1.124,0.92-2.291,0.756-2.885,0.577c-0.598-0.18-1.665-0.69-2.099-2.086 l-43.845-141.006c-0.937-3.013-3.217-5.423-6.173-6.527L22.462,237.662c-1.696-0.635-2.057-1.958-2.062-2.957 c-0.005-0.99,0.343-2.307,2.023-2.955L487.316,52.409c0.002-0.001,0.005-0.002,0.008-0.003c1.51-0.583,2.627,0.087,3.159,0.537 C491.017,53.398,491.867,54.398,491.536,55.99z' />
										<path d='M427.481,252.142c-5.506-1.196-10.936,2.299-12.131,7.804l-1.55,7.14c-1.195,5.505,2.299,10.936,7.804,12.131 c0.729,0.158,1.456,0.234,2.174,0.234c4.695,0,8.92-3.262,9.958-8.037l1.55-7.14C436.48,258.769,432.985,253.338,427.481,252.142z ' />
										<path d='M417.281,299.122c-5.512-1.195-10.938,2.299-12.132,7.804l-23.459,108.051c-1.195,5.505,2.299,10.936,7.803,12.131 c0.73,0.158,1.457,0.234,2.174,0.234c4.696,0,8.92-3.262,9.958-8.037l23.459-108.052 C426.279,305.748,422.785,300.317,417.281,299.122z' />
									</svg>
								</div>
							</Link>
							<Link
								href='https://web.whatsapp.com/send/?phone=79312832211'
								target='_blank'
								rel='noopener noreferrer'
							>
								<div className={styles.whatsapp_item}>
									<svg
										viewBox='0 0 512 512'
										xmlns='http://www.w3.org/2000/svg'
										fill='#fff'
									>
										<path d='m439.277344 72.722656c-46.898438-46.898437-109.238282-72.722656-175.566406-72.722656-.003907 0-.019532 0-.023438 0-32.804688.00390625-64.773438 6.355469-95.011719 18.882812-30.242187 12.527344-57.335937 30.640626-80.535156 53.839844-46.894531 46.894532-72.71875 109.246094-72.71875 175.566406 0 39.550782 9.542969 78.855469 27.625 113.875l-41.734375 119.226563c-2.941406 8.410156-.859375 17.550781 5.445312 23.851563 4.410157 4.414062 10.214844 6.757812 16.183594 6.757812 2.558594 0 5.144532-.429688 7.667969-1.3125l119.226563-41.730469c35.019531 18.082031 74.324218 27.625 113.875 27.625 66.320312 0 128.667968-25.828125 175.566406-72.722656 46.894531-46.894531 72.722656-109.246094 72.722656-175.566406 0-66.324219-25.824219-128.675781-72.722656-175.570313zm-21.234375 329.902344c-41.222657 41.226562-96.035157 63.925781-154.332031 63.925781-35.664063 0-71.09375-8.820312-102.460938-25.515625-5.6875-3.023437-12.410156-3.542968-18.445312-1.429687l-108.320313 37.910156 37.914063-108.320313c2.113281-6.042968 1.589843-12.765624-1.433594-18.449218-16.691406-31.359375-25.515625-66.789063-25.515625-102.457032 0-58.296874 22.703125-113.109374 63.925781-154.332031 41.21875-41.21875 96.023438-63.921875 154.316406-63.929687h.019532c58.300781 0 113.109374 22.703125 154.332031 63.929687 41.226562 41.222657 63.929687 96.03125 63.929687 154.332031 0 58.300782-22.703125 113.113282-63.929687 154.335938zm0 0' />
										<path d='m355.984375 270.46875c-11.421875-11.421875-30.007813-11.421875-41.429687 0l-12.492188 12.492188c-31.019531-16.902344-56.121094-42.003907-73.027344-73.023438l12.492188-12.492188c11.425781-11.421874 11.425781-30.007812 0-41.429687l-33.664063-33.664063c-11.421875-11.421874-30.007812-11.421874-41.429687 0l-26.929688 26.929688c-15.425781 15.425781-16.195312 41.945312-2.167968 74.675781 12.179687 28.417969 34.46875 59.652344 62.761718 87.945313 28.292969 28.292968 59.527344 50.582031 87.945313 62.761718 15.550781 6.664063 29.695312 9.988282 41.917969 9.988282 13.503906 0 24.660156-4.058594 32.757812-12.15625l26.929688-26.933594v.003906c5.535156-5.535156 8.582031-12.890625 8.582031-20.714844 0-7.828124-3.046875-15.183593-8.582031-20.714843zm-14.5 80.792969c-4.402344 4.402343-17.941406 5.945312-41.609375-4.195313-24.992188-10.710937-52.886719-30.742187-78.542969-56.398437s-45.683593-53.546875-56.394531-78.539063c-10.144531-23.667968-8.601562-37.210937-4.199219-41.613281l26.414063-26.414063 32.625 32.628907-15.636719 15.640625c-7.070313 7.070312-8.777344 17.792968-4.242187 26.683594 20.558593 40.3125 52.734374 72.488281 93.046874 93.046874 8.894532 4.535157 19.617188 2.832032 26.6875-4.242187l15.636719-15.636719 32.628907 32.628906zm0 0' />
									</svg>
								</div>
								{/* <Image
									src='/svg/socials/wa.svg'
									alt='wa'
									width={35}
									height={35}
								/> */}
							</Link>
						</div>
					</div>

					{/* Бургер-кнопка */}
					<button
						className={`${styles.burger_button} ${
							isMenuOpen ? styles.active : ''
						}`}
						onClick={toggleMenu}
						aria-label='Открыть меню'
					>
						<span></span>
						<span></span>
						<span></span>
					</button>
				</div>
			</div>

			{/* Мобильное меню */}
			<div
				className={`${styles.mobile_menu} ${isMenuOpen ? styles.active : ''}`}
			>
				<div className={styles.mobile_menu_cross}>
					<RxCross2 onClick={toggleMenu} color='#3289a1' size={40} />
				</div>
				<div className={styles.mobile_menu_content}>
					<Link
						href='/'
						className={`${styles.mobile_nav_link} ${
							pathname === '/' ? styles.active : ''
						}`}
						onClick={closeMenu}
					>
						ИТ-ПОДДЕРЖКА
					</Link>
					<Link
						href='/tariffs'
						className={`${styles.mobile_nav_link} ${
							pathname === '/tariffs' ? styles.active : ''
						}`}
						onClick={closeMenu}
					>
						ТАРИФЫ
					</Link>
					<Link
						href='/services'
						className={`${styles.mobile_nav_link} ${
							pathname === '/services' ? styles.active : ''
						}`}
						onClick={closeMenu}
					>
						РЕШЕНИЯ
					</Link>
					<Link
						href='/contacts'
						className={`${styles.mobile_nav_link} ${
							pathname === '/contacts' ? styles.active : ''
						}`}
						onClick={closeMenu}
					>
						КОНТАКТЫ
					</Link>

					<div className={styles.mobile_contacts}>
						<Link
							href='tel:+78123363646'
							className={styles.mobile_phone_link}
							onClick={closeMenu}
						>
							(812) 336 36 46
						</Link>
						<div className={styles.mobile_socials}>
							<Link
								href='https://t.me/andromster'
								target='_blank'
								rel='noopener noreferrer'
								onClick={closeMenu}
							>
								{/* <Image
									src='/svg/socials/tg.svg'
									alt='tg'
									width={40}
									height={40}
								/> */}
								<div className={styles.telegram_item}>
									<svg viewBox='0 0 512 512' xmlSpace='preserve' fill='#fff'>
										<path d='M385.268,121.919l-210.569,129.69c-11.916,7.356-17.555,21.885-13.716,35.323l22.768,80 c1.945,6.821,8.015,11.355,14.999,11.355c0.389,0,0.782-0.014,1.176-0.043c7.466-0.542,13.374-6.103,14.367-13.515l5.92-43.866 c0.798-5.902,3.642-11.392,8.001-15.45l173.765-161.524c5.251-4.869,5.945-12.842,1.618-18.545 C399.263,119.636,391.388,118.16,385.268,121.919z M214.32,290.478c-7.808,7.268-12.895,17.089-14.323,27.655l-2.871,21.278 l-16.527-58.072c-1.343-4.704,0.635-9.791,4.805-12.365l154.258-95.007L214.32,290.478z' />
										<path d='M503.67,37.382c-6.579-5.576-15.657-7.111-23.698-4.005L15.08,212.719C5.873,216.27-0.047,224.939,0,234.804 c0.048,9.874,6.055,18.495,15.316,21.965l108.59,40.529l42.359,136.225c2.326,7.489,8.197,13.308,15.703,15.566 c7.502,2.256,15.604,0.643,21.66-4.310l63.14-51.473c3.032-2.472,7.362-2.594,10.528-0.295l113.883,82.681 c4.097,2.978,8.932,4.511,13.823,4.511c2.865,0,5.749-0.526,8.517-1.596c7.486-2.895,12.93-9.312,14.56-17.163l83.429-401.309 C513.26,51.685,510.257,42.967,503.67,37.382z M491.536,55.99l-83.428,401.308c-0.302,1.45-1.346,2.053-1.942,2.284 c-0.6,0.232-1.785,0.489-2.997-0.393l-113.887-82.685c-5.091-3.696-11.077-5.531-17.052-5.531 c-6.518,0-13.027,2.185-18.347,6.519l-63.154,51.485c-1.124,0.92-2.291,0.756-2.885,0.577c-0.598-0.18-1.665-0.69-2.099-2.086 l-43.845-141.006c-0.937-3.013-3.217-5.423-6.173-6.527L22.462,237.662c-1.696-0.635-2.057-1.958-2.062-2.957 c-0.005-0.99,0.343-2.307,2.023-2.955L487.316,52.409c0.002-0.001,0.005-0.002,0.008-0.003c1.51-0.583,2.627,0.087,3.159,0.537 C491.017,53.398,491.867,54.398,491.536,55.99z' />
										<path d='M427.481,252.142c-5.506-1.196-10.936,2.299-12.131,7.804l-1.55,7.14c-1.195,5.505,2.299,10.936,7.804,12.131 c0.729,0.158,1.456,0.234,2.174,0.234c4.695,0,8.92-3.262,9.958-8.037l1.55-7.14C436.48,258.769,432.985,253.338,427.481,252.142z ' />
										<path d='M417.281,299.122c-5.512-1.195-10.938,2.299-12.132,7.804l-23.459,108.051c-1.195,5.505,2.299,10.936,7.803,12.131 c0.73,0.158,1.457,0.234,2.174,0.234c4.696,0,8.92-3.262,9.958-8.037l23.459-108.052 C426.279,305.748,422.785,300.317,417.281,299.122z' />
									</svg>
								</div>
							</Link>
							<Link
								href='https://web.whatsapp.com/send/?phone=79312832211'
								target='_blank'
								rel='noopener noreferrer'
								onClick={closeMenu}
							>
								{/* <Image
									src='/svg/socials/wa.svg'
									alt='wa'
									width={40}
									height={40}
								/> */}
								<div className={styles.whatsapp_item}>
									<svg
										viewBox='0 0 512 512'
										xmlns='http://www.w3.org/2000/svg'
										fill='#fff'
									>
										<path d='m439.277344 72.722656c-46.898438-46.898437-109.238282-72.722656-175.566406-72.722656-.003907 0-.019532 0-.023438 0-32.804688.00390625-64.773438 6.355469-95.011719 18.882812-30.242187 12.527344-57.335937 30.640626-80.535156 53.839844-46.894531 46.894532-72.71875 109.246094-72.71875 175.566406 0 39.550782 9.542969 78.855469 27.625 113.875l-41.734375 119.226563c-2.941406 8.410156-.859375 17.550781 5.445312 23.851563 4.410157 4.414062 10.214844 6.757812 16.183594 6.757812 2.558594 0 5.144532-.429688 7.667969-1.3125l119.226563-41.730469c35.019531 18.082031 74.324218 27.625 113.875 27.625 66.320312 0 128.667968-25.828125 175.566406-72.722656 46.894531-46.894531 72.722656-109.246094 72.722656-175.566406 0-66.324219-25.824219-128.675781-72.722656-175.570313zm-21.234375 329.902344c-41.222657 41.226562-96.035157 63.925781-154.332031 63.925781-35.664063 0-71.09375-8.820312-102.460938-25.515625-5.6875-3.023437-12.410156-3.542968-18.445312-1.429687l-108.320313 37.910156 37.914063-108.320313c2.113281-6.042968 1.589843-12.765624-1.433594-18.449218-16.691406-31.359375-25.515625-66.789063-25.515625-102.457032 0-58.296874 22.703125-113.109374 63.925781-154.332031 41.21875-41.21875 96.023438-63.921875 154.316406-63.929687h.019532c58.300781 0 113.109374 22.703125 154.332031 63.929687 41.226562 41.222657 63.929687 96.03125 63.929687 154.332031 0 58.300782-22.703125 113.113282-63.929687 154.335938zm0 0' />
										<path d='m355.984375 270.46875c-11.421875-11.421875-30.007813-11.421875-41.429687 0l-12.492188 12.492188c-31.019531-16.902344-56.121094-42.003907-73.027344-73.023438l12.492188-12.492188c11.425781-11.421874 11.425781-30.007812 0-41.429687l-33.664063-33.664063c-11.421875-11.421874-30.007812-11.421874-41.429687 0l-26.929688 26.929688c-15.425781 15.425781-16.195312 41.945312-2.167968 74.675781 12.179687 28.417969 34.46875 59.652344 62.761718 87.945313 28.292969 28.292968 59.527344 50.582031 87.945313 62.761718 15.550781 6.664063 29.695312 9.988282 41.917969 9.988282 13.503906 0 24.660156-4.058594 32.757812-12.15625l26.929688-26.933594v.003906c5.535156-5.535156 8.582031-12.890625 8.582031-20.714844 0-7.828124-3.046875-15.183593-8.582031-20.714843zm-14.5 80.792969c-4.402344 4.402343-17.941406 5.945312-41.609375-4.195313-24.992188-10.710937-52.886719-30.742187-78.542969-56.398437s-45.683593-53.546875-56.394531-78.539063c-10.144531-23.667968-8.601562-37.210937-4.199219-41.613281l26.414063-26.414063 32.625 32.628907-15.636719 15.640625c-7.070313 7.070312-8.777344 17.792968-4.242187 26.683594 20.558593 40.3125 52.734374 72.488281 93.046874 93.046874 8.894532 4.535157 19.617188 2.832032 26.6875-4.242187l15.636719-15.636719 32.628907 32.628906zm0 0' />
									</svg>
								</div>
							</Link>
						</div>
					</div>
				</div>
			</div>

			{/* Оверлей для закрытия меню */}
			{isMenuOpen && (
				<div className={styles.menu_overlay} onClick={closeMenu}></div>
			)}
		</>
	)
}
